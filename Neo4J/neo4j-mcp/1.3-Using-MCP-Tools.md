# Using Neo4j MCP Tools

In the previous module, you installed the Neo4j Cypher MCP server and configured it to connect to your Neo4j database.

In this module, you will explore the server and its tools in more details, and use them to build a simple Python application.

You will:

* Explore the Neo4j MCP server tools
* Learn how to read graph schemas
* Generate Cypher statements
* Build a Python application using MCP tools


<details><div class="section   "><details open=""><div class="section   "><h1 class="module-title">Using the Neo4j Cypher MCP Server</h1><article class="module-content doc"><div id="preamble"><div class="sectionbody"><p>The Neo4j Cypher MCP Server is a useful tool for developers and non-technical users alike. It provides an LLM with the ability to read and write data to a Neo4j database.</p><p>In this lesson, you will learn how to use the three tools provided by the Neo4j Cypher MCP Server to interact with Neo4j databases through natural language.</p></div></div><div class="section   "><h2 id="_setting_up_agent_mode">Setting up agent mode</h2><p>To use MCP tools, the server will need to be running and you need to be in<span class="Apple-converted-space"> </span><strong>Agent mode</strong><span class="Apple-converted-space"> </span>in the Copilot chat window.</p><p>Open Copilot chat window in VS Code:</p><div class="ulist"><ul data-tight="true"><li><p>Go to the File menu → View → Chat</p></li><li data-node-id="20251210105448-7kd3tyn"><p>Open the Command Palette (Ctrl+Shift+P) and select<span class="Apple-converted-space"> </span><code>Chat: Focus on Chat view</code></p></li><li><p>Select<span class="Apple-converted-space"> </span><strong>Agent mode</strong><span class="Apple-converted-space"> </span>in the bottom left corner</p></li></ul></div><div class="imageblock"><div class="content"><img src="https://graphacademy.neo4j.com/courses/genai-mcp-neo4j-tools/2-using-neo4j-mcp-tools/1-mcp-neo4j-cypher/images/agent-mode.png" alt="Enabling gent mode"/></div></div><p>Agent mode allows Copilot to use the MCP tools to answer your questions about the database.</p><div class="admonition admonition--tip "><p class="admonition-title">Start the MCP server</p><p>If you need to start, stop, or restart your MCP server, you can use the MCP commands in the Command Palette:</p><div class="ulist"><ul data-tight="true"><li><p>Open the Command Palette (Ctrl+Shift+P)</p></li><li data-node-id="20251210105448-fthzmw4"><p>Select<span class="Apple-converted-space"> </span><strong>MCP: List Servers</strong></p></li><li><p>Select the<span class="Apple-converted-space"> </span><em>Neo4j Cypher</em><span class="Apple-converted-space"> </span>server</p></li><li data-node-id="20251210105448-l03h1hy"><p>Select<span class="Apple-converted-space"> </span><strong>Start</strong><span class="Apple-converted-space"> </span>Server</p></li></ul></div></div></div><div class="section   "><h2 id="_understanding_the_database_schema">Understanding the database schema</h2><p>The first tool you’ll use is<span class="Apple-converted-space"> </span><code>get-neo4j-schema</code>.</p><p>This tool solves a common problem with AI-generated database queries: LLMs have been known to invent the label names, properties, or relationship types that don’t exist in your actual database.</p><p>The<span class="Apple-converted-space"> </span><code>get-neo4j-schema</code><span class="Apple-converted-space"> </span>tool lets the AI discover what’s actually in your Neo4j database before writing queries.</p><p>You can invoke the tool by asking a question about the database schema. For example:</p><div class="ulist"><ul data-tight="true"><li><p><em>Describe the data model</em></p></li><li data-node-id="20251210105448-nj7gx8f"><p><em>What node labels and relationship types are available in the database?</em></p></li><li><p><em>How are <label 1> and <label 2> related?</em></p></li></ul></div><p>The tool has no input, and returns a JSON object that describes the schema of the database.</p><details open=""><summary class="title">Example schema output</summary>

<details open=""><div class="section   "><h1 class="module-title">Using the Neo4j Cypher MCP Server</h1><article class="module-content doc"><div id="preamble"><div class="sectionbody"><p>The Neo4j Cypher MCP Server is a useful tool for developers and non-technical users alike. It provides an LLM with the ability to read and write data to a Neo4j database.</p><p>In this lesson, you will learn how to use the three tools provided by the Neo4j Cypher MCP Server to interact with Neo4j databases through natural language.</p></div></div><div class="section   "><h2 id="_setting_up_agent_mode">Setting up agent mode</h2><p>To use MCP tools, the server will need to be running and you need to be in<span class="Apple-converted-space"> </span><strong>Agent mode</strong><span class="Apple-converted-space"> </span>in the Copilot chat window.</p><p>Open Copilot chat window in VS Code:</p><div class="ulist"><ul data-tight="true"><li><p>Go to the File menu → View → Chat</p></li><li data-node-id="20251210105448-7kd3tyn"><p>Open the Command Palette (Ctrl+Shift+P) and select<span class="Apple-converted-space"> </span><code>Chat: Focus on Chat view</code></p></li><li><p>Select<span class="Apple-converted-space"> </span><strong>Agent mode</strong><span class="Apple-converted-space"> </span>in the bottom left corner</p></li></ul></div><div class="imageblock"><div class="content"><img src="https://graphacademy.neo4j.com/courses/genai-mcp-neo4j-tools/2-using-neo4j-mcp-tools/1-mcp-neo4j-cypher/images/agent-mode.png" alt="Enabling gent mode"/></div></div><p>Agent mode allows Copilot to use the MCP tools to answer your questions about the database.</p><div class="admonition admonition--tip "><p class="admonition-title">Start the MCP server</p><p>If you need to start, stop, or restart your MCP server, you can use the MCP commands in the Command Palette:</p><div class="ulist"><ul data-tight="true"><li><p>Open the Command Palette (Ctrl+Shift+P)</p></li><li data-node-id="20251210105448-fthzmw4"><p>Select<span class="Apple-converted-space"> </span><strong>MCP: List Servers</strong></p></li><li><p>Select the<span class="Apple-converted-space"> </span><em>Neo4j Cypher</em><span class="Apple-converted-space"> </span>server</p></li><li data-node-id="20251210105448-l03h1hy"><p>Select<span class="Apple-converted-space"> </span><strong>Start</strong><span class="Apple-converted-space"> </span>Server</p></li></ul></div></div></div><div class="section   "><h2 id="_understanding_the_database_schema">Understanding the database schema</h2><p>The first tool you’ll use is<span class="Apple-converted-space"> </span><code>get-neo4j-schema</code>.</p><p>This tool solves a common problem with AI-generated database queries: LLMs have been known to invent the label names, properties, or relationship types that don’t exist in your actual database.</p><p>The<span class="Apple-converted-space"> </span><code>get-neo4j-schema</code><span class="Apple-converted-space"> </span>tool lets the AI discover what’s actually in your Neo4j database before writing queries.</p><p>You can invoke the tool by asking a question about the database schema. For example:</p><div class="ulist"><ul data-tight="true"><li><p><em>Describe the data model</em></p></li><li data-node-id="20251210105448-nj7gx8f"><p><em>What node labels and relationship types are available in the database?</em></p></li><li><p><em>How are <label 1> and <label 2> related?</em></p></li></ul></div><p>The tool has no input, and returns a JSON object that describes the schema of the database.</p><details open=""><summary class="title">Example schema output</summary>

# Using the Neo4j Cypher MCP Server

The Neo4j Cypher MCP Server is a useful tool for developers and non-technical users alike. It provides an LLM with the ability to read and write data to a Neo4j database.

In this lesson, you will learn how to use the three tools provided by the Neo4j Cypher MCP Server to interact with Neo4j databases through natural language.

## Setting up agent mode

To use MCP tools, the server will need to be running and you need to be in** ****Agent mode** in the Copilot chat window.

Open Copilot chat window in VS Code:

* Go to the File menu → View → Chat
* Open the Command Palette (Ctrl+Shift+P) and select** **`Chat: Focus on Chat view`
* Select** ****Agent mode** in the bottom left corner

![Enabling gent mode](https://graphacademy.neo4j.com/courses/genai-mcp-neo4j-tools/2-using-neo4j-mcp-tools/1-mcp-neo4j-cypher/images/agent-mode.png)

Agent mode allows Copilot to use the MCP tools to answer your questions about the database.

Start the MCP server

If you need to start, stop, or restart your MCP server, you can use the MCP commands in the Command Palette:

* Open the Command Palette (Ctrl+Shift+P)
* Select** ****MCP: List Servers**
* Select the** ***Neo4j Cypher* server
* Select** ****Start** Server

## Understanding the database schema

The first tool you’ll use is** **`get-neo4j-schema`.

This tool solves a common problem with AI-generated database queries: LLMs have been known to invent the label names, properties, or relationship types that don’t exist in your actual database.

The** **`get-neo4j-schema` tool lets the AI discover what’s actually in your Neo4j database before writing queries.

You can invoke the tool by asking a question about the database schema. For example:

* *Describe the data model*
* *What node labels and relationship types are available in the database?*
* *How are <label 1> and <label 2> related?*

The tool has no input, and returns a JSON object that describes the schema of the database.

<details open=""><summary class="title">Example schema output</summary>

json

Copy

```json
[
    {
        "label": "Movie",
        "attributes": {
            "budget": "INTEGER",
            "movieId": "STRING unique indexed",
            "tmdbId": "STRING unique indexed",
            "imdbVotes": "INTEGER",
            "runtime": "INTEGER",
            "countries": "LIST",
            "imdbId": "STRING indexed",
            "url": "STRING",
            "plot": "STRING",
            "released": "STRING indexed",
            "languages": "LIST",
            "imdbRating": "FLOAT indexed",
            "title": "STRING indexed",
            "poster": "STRING",
            "year": "INTEGER indexed",
            "revenue": "INTEGER"
        },
        "relationships": {
            "IN_GENRE": "Genre"
        }
    },
    {
        "label": "Genre",
        "attributes": {
            "name": "STRING unique indexed"
        },
        "relationships": {}
    },
    {
        "label": "User",
        "attributes": {
            "name": "STRING indexed",
            "userId": "STRING unique indexed"
        },
        "relationships": {
            "RATED": "Movie"
        }
    },
    {
        "label": "Actor",
        "attributes": {
            "born": "DATE",
            "bornIn": "STRING",
            "tmdbId": "STRING",
            "bio": "STRING",
            "died": "DATE",
            "name": "STRING",
            "poster": "STRING",
            "imdbId": "STRING",
            "url": "STRING"
        },
        "relationships": {
            "ACTED_IN": "Movie",
            "DIRECTED": "Movie"
        }
    },
    {
        "label": "Director",
        "attributes": {
            "born": "DATE",
            "bornIn": "STRING",
            "tmdbId": "STRING",
            "bio": "STRING",
            "died": "DATE",
            "name": "STRING",
            "poster": "STRING",
            "imdbId": "STRING",
            "url": "STRING"
        },
        "relationships": {
            "ACTED_IN": "Movie",
            "DIRECTED": "Movie"
        }
    },
    {
        "label": "Person",
        "attributes": {
            "born": "DATE",
            "bornIn": "STRING",
            "tmdbId": "STRING unique indexed",
            "bio": "STRING",
            "died": "DATE",
            "name": "STRING indexed",
            "poster": "STRING",
            "imdbId": "STRING",
            "url": "STRING"
        },
        "relationships": {
            "ACTED_IN": "Movie",
            "DIRECTED": "Movie"
        }
    }
]
```

</details>

## Reading data safely

The** **`read-neo4j-cypher` tool is used to read data from the database. It does not have permissions to create, update, or delete data.

You can invoke the tool by asking a question about the data in the database. For example:

* *What are the top 10 movies by revenue?*
* *Who directed the movie "The Matrix"?*

This method has two benefits. Firstly, it adheres to the routing policy of the Neo4j server, directing queries across servers in a Neo4j cluster. Secondly, as the query is executed within a** ** *read transaction* , the tool is not capable of performing potentially destructive actions.

This means you can approve the tool to always run without permission, knowing that it will not delete or modify any data.

<details open=""><summary class="title">What are the top 10 movies by revenue?</summary>

**Input:**

json

Copy

```json
{
  "query": "MATCH (m:Movie) WHERE m.revenue IS NOT NULL RETURN m.title AS title, m.revenue AS revenue ORDER BY m.revenue DESC LIMIT 10"
}
```

**Output:**

text

Copy

```text
The top 10 movies by revenue in your Neo4j database are:

1. Avatar
2. Titanic
3. Star Wars: Episode VII - The Force Awakens
4. Jurassic World
5. The Avengers
6. Furious 7
7. Avengers: Age of Ultron
8. Harry Potter and the Deathly Hallows: Part 2
9. Frozen
10. Iron Man 3
```

</details>

Because this tool only reads data, many AI hosts will run it automatically without asking for permission.

## Writing data with approval

The** **`write-neo4j-cypher` tool allows an agent to write data to the Neo4j database.

This tool can create, update, or delete data in your database. It’s perfect for non-technical users who want to modify data using natural language instead of learning Cypher.

This tool will be invoked with a question about creating or modifying data. For example:

* *Create a new user named Sarah*
* *Add a 5-star rating from John to The Godfather*

<details><summary class="title">Conversational writes</summary>

</details>

Most AI hosts will ask for permission before running this tool, showing you the generated Cypher so you can review it first.

## Where this fits

These three tools work together to create a complete database interaction experience.

The schema tool prevents hallucinations, the read tool explores data safely, and the write tool makes changes with your approval.

This combination allows anyone to work with Neo4j databases using natural language, while maintaining safety and accuracy.

## What’s next

Now that you understand how the Neo4j MCP tools work, you’re ready to try them yourself.

In the next lesson, you’ll use these tools to explore and modify a movie recommendation database.

## Check your understanding

## Tool Safety and Permissions

Why might the** **`read-neo4j-cypher` tool be considered safer to run without explicit approval compared to the** **`write-neo4j-cypher` tool?

Select the correct answer:

* [ ] The read tool has better error handling than the write tool
* [ ] The read tool only works with small datasets
* [ ] The read tool executes within read transactions and cannot modify data
* [ ] The read tool requires authentication while the write tool does not
* [ ] The read tool is faster than the write tool

Check answer

</details>

</details>
